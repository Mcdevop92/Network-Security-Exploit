# Network-Security-Exploit ðŸ‘¨ðŸ»â€ðŸ’»ðŸ”“

Set up a virtual lab environment using Kali Linux and Metasploitable 2 within VirtualBox to practice penetration testing. Conducted network reconnaissance with Nmap and executed the vsftpd backdoor exploit using the Metasploit Framework, successfully gaining access to the target system and demonstrating proficiency in vulnerability exploitation.

##### This lab is intended for educational purposes only. It is never OK to use what you've learned for malicious or illegal intent. All passwords and IP addresses have been changed for security reasons.

## Installation ðŸ—ï¸

* **VirtualBox** --> [Download](https://www.virtualbox.org/wiki/Downloads)
  - Installation Video: [YouTube](https://www.youtube.com/watch?v=omQ6mLF2zYA&t=0s)

* **Kali Linux** --> [Download](https://www.kali.org/get-kali/#kali-platforms)
  - Installation Video: [YouTube](https://www.youtube.com/watch?v=vnX1NaF4K-Q)

* **Metasploitable 2** --> [Download](https://sourceforge.net/projects/metasploitable/)
  - Installation Video: [YouTube](https://www.youtube.com/watch?v=g1JnLIfTjzM)

## Goals ðŸŽ¯

* Set up a virtual machine with Kali Linux and Metasploitable 2.
* Use `nmap` to check for open ports and vulnerabilities.
* Use the Metasploit Framework to run pre-made exploits.

## Getting Started ðŸ¤“

### 1 - The Target

Find the target IP address:
- Run Metasploitable 2 and log in using `msfadmin`, then type `ifconfig`.

   Example:

   ![image](https://github.com/user-attachments/assets/c8222203-4349-4a31-9756-511b4525c399)

* We can see the `inet addr` (internet address) field is `172.17.0.2`.
  * âš ï¸ Your values might be different! Take a moment to write down the IP for `eth0` on your Metasploitable machine, as you'll need it to target your attacks in the next step.

### 2 - The Recon

Now let's perform some **reconnaissance**. Run Kali Linux and open the terminal. We can scan the target PC and see if we can find any vulnerabilities to exploit! We'll do this using the popular networking tool **nmap**.

* On a Kali Linux terminal, run `sudo apt install -y nmap` to install `nmap`.
* Next, we'll perform a basic scan of the target Metasploitable container: `nmap -p0-65535 172.17.0.2`.
   * The `-p0-65535` flag means "scan every port from 0 to 65535" -- all the possible ports.
 For this project we are going to focus on port `21`.
* Run `nmap` again but this time scan port 21 for vulnerabilities: `nmap 172.17.0.2 --script vuln -p 21`.
We are looking for one specific vulnerability: ***The `vsftpd` backdoor***.

"On port 21, Metasploitable2 runs vsftpd, a popular FTP server. This particular version contains a backdoor that was slipped into the source code by an unknown intruder. The backdoor was quickly identified and removed, but not before quite a few people downloaded it. If a username is sent that ends in the sequence :) [ a happy face ], the backdoored version will open a listening shell on port 6200. We can demonstrate using the Metasploit Framework module to automatically exploit it."

### 3 - The Tool
We're going to use one of the most powerful penetration testing tools out there: ***Metasploit***.

* Run `msfconsole`  in Kali Linux terminal to launch metasploit
   *  âš ï¸ Metasploit is going to take over your terminal window... so if you need your terminal back, you'll have to either quit Metasploit or open a 3rd console!

### 4 - The Exploit
Metasploit has a giant library of different exploits it can run. We want to exploit ` vsftpd`.
 * earch for an appropriate exploit by running search `vsftpd`
   ![image](https://github.com/user-attachments/assets/cc23a05c-a67a-4d01-9331-458b0b9915c9)

There is a module that got a rank of excellent which means that it works reliably!
* Load the module with use `exploit/unix/ftp/vsftpd_234_backdoor`

the first thing Metasploit will do is give you the following message: `[*] No payload configured, defaulting to cmd/unix/interact`

That's fine for this exploit, but if you try others, keep in mind you may need to modify the payload! You can read more about it on the Metasploit docs --> https://docs.metasploit.com/docs/using-metasploit/basics/how-payloads-work.html.

* Run `options` to view available settings for this exploit.
  ![image](https://github.com/user-attachments/assets/f8ef61ab-14fa-416e-b1c0-15299f75d076)

There are two required options, `RHOSTS` and `RPORT`. `RPORT` has correctly defaulted to 21, but we need to set `RHOSTS`.

* Assing `RHOSTS` the IP address for your Metasploitable machine:
  ![image](https://github.com/user-attachments/assets/685cec3c-5526-4a1f-896a-afe7e353eaf0)

Now Excecute the attack!
* Run `exploit` and wait!
  ![image](https://github.com/user-attachments/assets/076cf613-77a4-4862-bb42-68824ab92efe)

 ðŸŽ‰ Congratualitions! ðŸŽ‰ just like in the movies you gained access to the Metasploitable machine through backdoor!

   Test it out:
  * Run the commands these two commands to identify the machine `lsb_release -a` and `ifconfig`.
    As you can see you are now on the Metasploitavle machine, if this was a real machine you could run scripts, read/copy files, or anything else you can do on a terminal. You can explore a bit more by checking your environment with `pwd`, `cd` and `ls`.
  * Type `exit` to close the terminal and return to Metasploit
 
### 5 - Potential Mitigations
1. Regular Software Updates:

   Ensure all systems and software are updated frequently to patch known vulnerabilities, preventing exploitation.

3. Firewall Configuration:

   Implement strict firewall rules to control access to open ports, limiting exposure to potential attacks.

5. Secure Protocols:

   Replace outdated and insecure services like FTP with secure alternatives such as SFTP or FTPS to protect data transmission.
